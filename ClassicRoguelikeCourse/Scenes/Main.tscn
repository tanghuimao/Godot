[gd_scene load_steps=13 format=3 uid="uid://b7alouchlv4m2"]

[ext_resource type="Script" path="res://Scenes/Main.cs" id="1_qa8g0"]
[ext_resource type="PackedScene" uid="uid://djh2vsvdybrvf" path="res://Managers/Fsm/Fsm.tscn" id="2_sukfd"]
[ext_resource type="PackedScene" uid="uid://dwc11cmwvgkye" path="res://Managers/InputManager/InputHandler.tscn" id="3_wru1m"]
[ext_resource type="PackedScene" uid="uid://bqj0ghofy553a" path="res://Managers/MapManager/MapManager.tscn" id="4_daonv"]
[ext_resource type="PackedScene" uid="uid://bgqtn7ne7egh3" path="res://Entites/Characters/Player/Player.tscn" id="4_mnwry"]
[ext_resource type="Script" path="res://Resources/MapData/DungeonData/DungeonData.cs" id="5_mwd74"]
[ext_resource type="PackedScene" uid="uid://bq5pa6d2tec1d" path="res://Managers/MapManager/MapGenerators/DungeonGenerator/DungeonGenerator.tscn" id="5_pwa3j"]
[ext_resource type="PackedScene" uid="uid://d1toxjtw5uqfk" path="res://Managers/AStarGridManager/AStarGridManager.tscn" id="7_v68hj"]
[ext_resource type="Script" path="res://Resources/CharacterData/PlayerData/PlayerData.cs" id="8_n8eao"]
[ext_resource type="PackedScene" uid="uid://cqe3npdbw2rom" path="res://Managers/EnemyManager/EnemyManager.tscn" id="8_xp3of"]

[sub_resource type="Resource" id="Resource_mrk66"]
resource_local_to_scene = true
script = ExtResource("5_mwd74")

[sub_resource type="Resource" id="Resource_ixdd1"]
resource_local_to_scene = true
script = ExtResource("8_n8eao")
Name = "玩家"
Sight = 6
Strength = 8
Constitution = 8
Agility = 8
StrengthIncrementEffects = {
"Attack": 2.0,
"Defend": 1.0
}
ConstitutionIncrementEffects = {
"Health": 3.0,
"MaxHealth": 3.0
}
AgilityIncrementEffects = {
"CriticalChance": 0.005,
"Dodge": 0.01
}

[node name="Main" type="Node"]
script = ExtResource("1_qa8g0")

[node name="TileMap" type="TileMap" parent="."]
unique_name_in_owner = true
format = 2
layer_0/name = "Default"

[node name="MapManager" parent="." instance=ExtResource("4_daonv")]
unique_name_in_owner = true
_mapData = SubResource("Resource_mrk66")

[node name="DungeonGenerator" parent="MapManager" instance=ExtResource("5_pwa3j")]

[node name="Fsm" parent="." instance=ExtResource("2_sukfd")]
unique_name_in_owner = true

[node name="InputHandler" parent="." instance=ExtResource("3_wru1m")]
unique_name_in_owner = true

[node name="Player" parent="." instance=ExtResource("4_mnwry")]
unique_name_in_owner = true
CharacterData = SubResource("Resource_ixdd1")

[node name="EnemyContainer" type="Node" parent="."]
unique_name_in_owner = true

[node name="EnemyManager" parent="." instance=ExtResource("8_xp3of")]
unique_name_in_owner = true

[node name="AStarGridManager" parent="." instance=ExtResource("7_v68hj")]
unique_name_in_owner = true
